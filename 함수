## 그룹함수
- 소계/중계/합계/총합계 등을 구할 수 있음
- 하나의 SQL로 테이블을 한번만 읽어서 빠르게 원하는 리포트 작성 가능

### 그룹함수의 종류
1. Rollup
- Subtotal(표현식 별 집계<->Grand Total)을 생성하기 위해 사용
- 그룹핑 컬럼 수가 n일 때, n+1만큼의 level의 Subtotal(표현식 별 집계) 결과값이 생성된다.
  ex. Rollup(부서, 업무, 성별) 인 경우
  - 부서별, 업무별, 성별별 집계
  - 부서별, 업무별 집계 - 모든 성별 포함
  - 부서별 집계 - 모든 성별, 모든 업무 포함
  - 전체 집계(Grand Total)
- 계층 구조이기에 순서가 바뀌면 수행 결과도 바뀌게 되므로 순서에도 주의
- Rollup(표현식1, 표헌식2, ...) 으로 Group by 뒤에 사용
2. Cube
- 다차원적인 소계를 계산
- 결합 가능한 모든 값에 대해 다차원 집계를 생성
- 그룹핑 칼럼의 수가 n일 때, 2의 n승 Subtotal 이 생성
  ex. Cube(부서, 성별, 업무)인 경우 3개의 컬럼이므로 2의 3승인 8개의 결과가 나온다.
- 시스템의 성능에 무리를 많이 준다.
3. Grouping sets
- Union all 을 사용한 SQL 과 같은 결과를 얻을 수 있다.
- 괄호를 묶은 집합 별로 집계를 구할 수 있다.



## 윈도우 함수 = 분석함수
- 행과 행간의 관계에서 다양한 연산 처리를 할 수 있는 함수
- 중첩하여 호출할 수 없다

### 윈도우 함수의 종류
1. 그룹 내 순위 함수 : Rank, Dense_rank, Row_number
2. 집계 함수 : Sum, Max, Min, Avg, Count
3. 그룹 내 행 순서 함수 : First_value, Last_value, Lag, Lead
4. 그룹 내 비율 함수 : Cume_dist, Percnet_rank, Ntile, Ratio_to_Report

### 윈도우 함수 문법
```
Select 
  윈도우 함수 (인자) over ([Partition by 컬럼] [Order by 절] [Windowing절])
From 테이블명;
```
- 인자 : 함수에 따라 0~n개 인수 지정
- Partition by 절 : 전체 집합을 기준에 의해 소그룹으로 나눌 수 있다.
- Order by절 : 어떤 항목에 대해 순위를 지정할지 기술
- Windowing 절 : 함수의 대상이 되는 행 기준을 범위를 강력하게 지정
- Rows : 물리적인 결과 행의 수
- Range : 논리적인 값에 의한 범위

